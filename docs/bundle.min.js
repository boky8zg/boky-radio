!function(t){var n={};function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(o,i,function(n){return t[n]}.bind(null,i));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){e(1),t.exports=e(2)},function(t,n,e){"use strict";e.r(n);var o,i,l,r,s,_={},a=[],u=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function c(t,n){for(var e in n)t[e]=n[e];return t}function p(t){var n=t.parentNode;n&&n.removeChild(t)}function d(t,n,e){var o,i,l,r=arguments,s={};for(l in n)"key"==l?o=n[l]:"ref"==l?i=n[l]:s[l]=n[l];if(arguments.length>3)for(e=[e],l=3;l<arguments.length;l++)e.push(r[l]);if(null!=e&&(s.children=e),"function"==typeof t&&null!=t.defaultProps)for(l in t.defaultProps)void 0===s[l]&&(s[l]=t.defaultProps[l]);return f(t,s,o,i,null)}function f(t,n,e,i,l){var r={type:t,props:n,key:e,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:l};return null==l&&(r.__v=r),null!=o.vnode&&o.vnode(r),r}function h(t){return t.children}function y(t,n){this.props=t,this.context=n}function v(t,n){if(null==n)return t.__?v(t.__,t.__.__k.indexOf(t)+1):null;for(var e;n<t.__k.length;n++)if(null!=(e=t.__k[n])&&null!=e.__e)return e.__e;return"function"==typeof t.type?v(t):null}function g(t){var n,e;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(e=t.__k[n])&&null!=e.__e){t.__e=t.__c.base=e.__e;break}return g(t)}}function m(t){(!t.__d&&(t.__d=!0)&&i.push(t)&&!S.__r++||r!==o.debounceRendering)&&((r=o.debounceRendering)||l)(S)}function S(){for(var t;S.__r=i.length;)t=i.sort((function(t,n){return t.__v.__b-n.__v.__b})),i=[],t.some((function(t){var n,e,o,i,l,r,s;t.__d&&(r=(l=(n=t).__v).__e,(s=n.__P)&&(e=[],(o=c({},l)).__v=o,i=M(s,l,o,n.__n,void 0!==s.ownerSVGElement,null!=l.__h?[r]:null,e,null==r?v(l):r,l.__h),A(e,l),i!=r&&g(l)))}))}function b(t,n,e,o,i,l,r,s,u,c){var d,y,g,m,S,b,x,P=o&&o.__k||a,k=P.length;for(u==_&&(u=null!=r?r[0]:k?v(o,0):null),e.__k=[],d=0;d<n.length;d++)if(null!=(m=e.__k[d]=null==(m=n[d])||"boolean"==typeof m?null:"string"==typeof m||"number"==typeof m?f(null,m,null,null,m):Array.isArray(m)?f(h,{children:m},null,null,null):null!=m.__e||null!=m.__c?f(m.type,m.props,m.key,null,m.__v):m)){if(m.__=e,m.__b=e.__b+1,null===(g=P[d])||g&&m.key==g.key&&m.type===g.type)P[d]=void 0;else for(y=0;y<k;y++){if((g=P[y])&&m.key==g.key&&m.type===g.type){P[y]=void 0;break}g=null}S=M(t,m,g=g||_,i,l,r,s,u,c),(y=m.ref)&&g.ref!=y&&(x||(x=[]),g.ref&&x.push(g.ref,null,m),x.push(y,m.__c||S,m)),null!=S?(null==b&&(b=S),u=w(t,m,g,P,r,S,u),c||"option"!=e.type?"function"==typeof e.type&&(e.__d=u):t.value=""):u&&g.__e==u&&u.parentNode!=t&&(u=v(g))}if(e.__e=b,null!=r&&"function"!=typeof e.type)for(d=r.length;d--;)null!=r[d]&&p(r[d]);for(d=k;d--;)null!=P[d]&&O(P[d],P[d]);if(x)for(d=0;d<x.length;d++)U(x[d],x[++d],x[++d])}function w(t,n,e,o,i,l,r){var s,_,a;if(void 0!==n.__d)s=n.__d,n.__d=void 0;else if(i==e||l!=r||null==l.parentNode)t:if(null==r||r.parentNode!==t)t.appendChild(l),s=null;else{for(_=r,a=0;(_=_.nextSibling)&&a<o.length;a+=2)if(_==l)break t;t.insertBefore(l,r),s=r}return void 0!==s?s:l.nextSibling}function x(t,n,e){"-"===n[0]?t.setProperty(n,e):t[n]=null==e?"":"number"!=typeof e||u.test(n)?e:e+"px"}function P(t,n,e,o,i){var l,r,s;if(i&&"className"==n&&(n="class"),"style"===n)if("string"==typeof e)t.style.cssText=e;else{if("string"==typeof o&&(t.style.cssText=o=""),o)for(n in o)e&&n in e||x(t.style,n,"");if(e)for(n in e)o&&e[n]===o[n]||x(t.style,n,e[n])}else"o"===n[0]&&"n"===n[1]?(l=n!==(n=n.replace(/Capture$/,"")),(r=n.toLowerCase())in t&&(n=r),n=n.slice(2),t.l||(t.l={}),t.l[n+l]=e,s=l?C:k,e?o||t.addEventListener(n,s,l):t.removeEventListener(n,s,l)):"list"!==n&&"tagName"!==n&&"form"!==n&&"type"!==n&&"size"!==n&&"download"!==n&&"href"!==n&&!i&&n in t?t[n]=null==e?"":e:"function"!=typeof e&&"dangerouslySetInnerHTML"!==n&&(n!==(n=n.replace(/xlink:?/,""))?null==e||!1===e?t.removeAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase(),e):null==e||!1===e&&!/^ar/.test(n)?t.removeAttribute(n):t.setAttribute(n,e))}function k(t){this.l[t.type+!1](o.event?o.event(t):t)}function C(t){this.l[t.type+!0](o.event?o.event(t):t)}function I(t,n,e){var o,i;for(o=0;o<t.__k.length;o++)(i=t.__k[o])&&(i.__=t,i.__e&&("function"==typeof i.type&&i.__k.length>1&&I(i,n,e),n=w(e,i,i,t.__k,null,i.__e,n),"function"==typeof t.type&&(t.__d=n)))}function M(t,n,e,i,l,r,s,_,a){var u,p,d,f,v,g,m,S,w,x,P,k=n.type;if(void 0!==n.constructor)return null;null!=e.__h&&(a=e.__h,_=n.__e=e.__e,n.__h=null,r=[_]),(u=o.__b)&&u(n);try{t:if("function"==typeof k){if(S=n.props,w=(u=k.contextType)&&i[u.__c],x=u?w?w.props.value:u.__:i,e.__c?m=(p=n.__c=e.__c).__=p.__E:("prototype"in k&&k.prototype.render?n.__c=p=new k(S,x):(n.__c=p=new y(S,x),p.constructor=k,p.render=T),w&&w.sub(p),p.props=S,p.state||(p.state={}),p.context=x,p.__n=i,d=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=k.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=c({},p.__s)),c(p.__s,k.getDerivedStateFromProps(S,p.__s))),f=p.props,v=p.state,d)null==k.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==k.getDerivedStateFromProps&&S!==f&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(S,x),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(S,p.__s,x)||n.__v===e.__v){p.props=S,p.state=p.__s,n.__v!==e.__v&&(p.__d=!1),p.__v=n,n.__e=e.__e,n.__k=e.__k,p.__h.length&&s.push(p),I(n,_,t);break t}null!=p.componentWillUpdate&&p.componentWillUpdate(S,p.__s,x),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(f,v,g)}))}p.context=x,p.props=S,p.state=p.__s,(u=o.__r)&&u(n),p.__d=!1,p.__v=n,p.__P=t,u=p.render(p.props,p.state,p.context),p.state=p.__s,null!=p.getChildContext&&(i=c(c({},i),p.getChildContext())),d||null==p.getSnapshotBeforeUpdate||(g=p.getSnapshotBeforeUpdate(f,v)),P=null!=u&&u.type==h&&null==u.key?u.props.children:u,b(t,Array.isArray(P)?P:[P],n,e,i,l,r,s,_,a),p.base=n.__e,n.__h=null,p.__h.length&&s.push(p),m&&(p.__E=p.__=null),p.__e=!1}else null==r&&n.__v===e.__v?(n.__k=e.__k,n.__e=e.__e):n.__e=N(e.__e,n,e,i,l,r,s,a);(u=o.diffed)&&u(n)}catch(t){n.__v=null,(a||null!=r)&&(n.__e=_,n.__h=!!a,r[r.indexOf(_)]=null),o.__e(t,n,e)}return n.__e}function A(t,n){o.__c&&o.__c(n,t),t.some((function(n){try{t=n.__h,n.__h=[],t.some((function(t){t.call(n)}))}catch(t){o.__e(t,n.__v)}}))}function N(t,n,e,o,i,l,r,s){var u,c,p,d,f,h=e.props,y=n.props;if(i="svg"===n.type||i,null!=l)for(u=0;u<l.length;u++)if(null!=(c=l[u])&&((null===n.type?3===c.nodeType:c.localName===n.type)||t==c)){t=c,l[u]=null;break}if(null==t){if(null===n.type)return document.createTextNode(y);t=i?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type,y.is&&{is:y.is}),l=null,s=!1}if(null===n.type)h===y||s&&t.data===y||(t.data=y);else{if(null!=l&&(l=a.slice.call(t.childNodes)),p=(h=e.props||_).dangerouslySetInnerHTML,d=y.dangerouslySetInnerHTML,!s){if(null!=l)for(h={},f=0;f<t.attributes.length;f++)h[t.attributes[f].name]=t.attributes[f].value;(d||p)&&(d&&(p&&d.__html==p.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}(function(t,n,e,o,i){var l;for(l in e)"children"===l||"key"===l||l in n||P(t,l,null,e[l],o);for(l in n)i&&"function"!=typeof n[l]||"children"===l||"key"===l||"value"===l||"checked"===l||e[l]===n[l]||P(t,l,n[l],e[l],o)})(t,y,h,i,s),d?n.__k=[]:(u=n.props.children,b(t,Array.isArray(u)?u:[u],n,e,o,"foreignObject"!==n.type&&i,l,r,_,s)),s||("value"in y&&void 0!==(u=y.value)&&(u!==t.value||"progress"===n.type&&!u)&&P(t,"value",u,h.value,!1),"checked"in y&&void 0!==(u=y.checked)&&u!==t.checked&&P(t,"checked",u,h.checked,!1))}return t}function U(t,n,e){try{"function"==typeof t?t(n):t.current=n}catch(t){o.__e(t,e)}}function O(t,n,e){var i,l,r;if(o.unmount&&o.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||U(i,null,n)),e||"function"==typeof t.type||(e=null!=(l=t.__e)),t.__e=t.__d=void 0,null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(t){o.__e(t,n)}i.base=i.__P=null}if(i=t.__k)for(r=0;r<i.length;r++)i[r]&&O(i[r],n,e);null!=l&&p(l)}function T(t,n,e){return this.constructor(t,e)}function D(t,n,e){var i,l,r;o.__&&o.__(t,n),l=(i=e===s)?null:e&&e.__k||n.__k,t=d(h,null,[t]),r=[],M(n,(i?n:e||n).__k=t,l||_,_,void 0!==n.ownerSVGElement,e&&!i?[e]:l?null:n.childNodes.length?a.slice.call(n.childNodes):null,r,e||_,i),A(r,t)}o={__e:function(t,n){for(var e,o,i,l=n.__h;n=n.__;)if((e=n.__c)&&!e.__)try{if((o=e.constructor)&&null!=o.getDerivedStateFromError&&(e.setState(o.getDerivedStateFromError(t)),i=e.__d),null!=e.componentDidCatch&&(e.componentDidCatch(t),i=e.__d),i)return n.__h=l,e.__E=e}catch(n){t=n}throw t}},y.prototype.setState=function(t,n){var e;e=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=c({},this.state),"function"==typeof t&&(t=t(c({},e),this.props)),t&&c(e,t),null!=t&&this.__v&&(n&&this.__h.push(n),m(this))},y.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),m(this))},y.prototype.render=h,i=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,S.__r=0,s=_;const L=new Map;var j=function(t,n,e,o){return new(e||(e=Promise))((function(i,l){function r(t){try{_(o.next(t))}catch(t){l(t)}}function s(t){try{_(o.throw(t))}catch(t){l(t)}}function _(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(r,s)}_((o=o.apply(t,n||[])).next())}))};const E=(t,...n)=>t?t(...n):void 0;class V extends y{emitOnStationSelected(){this.props.active||E(this.props.onStationSelected)}render({station:t,active:n}){return d("div",{class:"list-item"+(n?" list-item--active":""),onClick:()=>this.emitOnStationSelected()},d("img",{class:"list-item__image",src:t.logoUrl}),d("div",{class:"list-item__meta"},d("div",{class:"list-item__title"},t.name),d("div",{class:"list-item__description"},t.description)))}}class W extends y{onStationSelected(t){E(this.props.onStationChange,t)}render({stations:t,nowPlayingStationIndex:n}){return d("div",{class:"list"},t.map((t,e)=>d(V,{station:t,active:n===e,onStationSelected:()=>this.onStationSelected(e)})))}}class z extends y{render({station:t}){var n,e,o;return d("div",{class:"now-playing"},d("img",{class:"now-playing__image",src:null!==(n=null==t?void 0:t.logoUrl)&&void 0!==n?n:""}),d("div",{class:"now-playing__meta"},d("div",{class:"now-playing__title"},null!==(e=null==t?void 0:t.name)&&void 0!==e?e:"Unknown"),d("div",{class:"now-playing__description"},null!==(o=null==t?void 0:t.description)&&void 0!==o?o:"Unknown")))}}class B extends y{emitAction(t){E(this.props.onAction,t)}render({hasPrev:t,hasNext:n,isPlaying:e}){return e=null!=e&&e,d("div",{class:"toolbar"},d("button",{class:"toolbar__btn",style:{visibility:t?"visible":"hidden"},onClick:()=>this.emitAction("prev")},d("svg",{viewBox:"0 0 320.012 320.012"},d("path",{d:"M32.006,0.012c8.832,0,16,7.168,16,16v116.64L280.166,2.06c4.896-2.784,11.008-2.752,15.904,0.128s7.936,8.128,7.936,13.824v288c0,5.696-3.04,10.944-7.936,13.824c-2.464,1.44-5.28,2.176-8.064,2.176c-2.72,0-5.408-0.672-7.84-2.048L48.006,187.372v116.64c0,8.832-7.168,16-16,16s-16-7.168-16-16v-288C16.006,7.18,23.174,0.012,32.006,0.012z"}))),d("button",{class:"toolbar__btn toolbar__btn-play-pause",onClick:()=>this.emitAction(e?"pause":"play")},e?d("svg",{viewBox:"0 0 320 320"},d("path",{d:"M112,0H16C7.168,0,0,7.168,0,16v288c0,8.832,7.168,16,16,16h96c8.832,0,16-7.168,16-16V16C128,7.168,120.832,0,112,0z"}),d("path",{d:"M304,0h-96c-8.832,0-16,7.168-16,16v288c0,8.832,7.168,16,16,16h96c8.832,0,16-7.168,16-16V16C320,7.168,312.832,0,304,0z"})):d("svg",{viewBox:"0 0 320.001 320.001"},d("path",{d:"M295.84,146.049l-256-144c-4.96-2.784-11.008-2.72-15.904,0.128C19.008,5.057,16,10.305,16,16.001v288c0,5.696,3.008,10.944,7.936,13.824c2.496,1.44,5.28,2.176,8.064,2.176c2.688,0,5.408-0.672,7.84-2.048l256-144c5.024-2.848,8.16-8.16,8.16-13.952S300.864,148.897,295.84,146.049z"}))),d("button",{class:"toolbar__btn",style:{visibility:n?"visible":"hidden"},onClick:()=>this.emitAction("next")},d("svg",{viewBox:"0 0 320 320"},d("path",{d:"M288,0c-8.832,0-16,7.168-16,16v116.64L39.84,2.048c-4.896-2.752-11.008-2.72-15.904,0.128S16,10.304,16,16v288c0,5.696,3.04,10.944,7.936,13.824C26.4,319.264,29.216,320,32,320c2.72,0,5.408-0.672,7.84-2.048L272,187.36V304c0,8.832,7.168,16,16,16s16-7.168,16-16V16C304,7.168,296.832,0,288,0z"}))))}}var R,F=function(t,n,e,o){var i,l=arguments.length,r=l<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(l<3?i(r):l>3?i(n,e,r):i(n,e))||r);return l>3&&r&&Object.defineProperty(n,e,r),r},H=function(t,n,e,o){return new(e||(e=Promise))((function(i,l){function r(t){try{_(o.next(t))}catch(t){l(t)}}function s(t){try{_(o.throw(t))}catch(t){l(t)}}function _(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(r,s)}_((o=o.apply(t,n||[])).next())}))};class G extends y{constructor(){super(...arguments),this.state={stations:[],nowPlayingStationIndex:-1,nowPlayingStation:null,isPlaying:!1},this.audio=new Audio}componentDidMount(){return H(this,void 0,void 0,(function*(){const t=yield this.stationsService.loadStations();let n={isPlaying:!1,nowPlayingStationIndex:0};try{const t=JSON.parse(localStorage.getItem("persistentState"));t&&(n=t)}catch(t){}this.setState({stations:t,nowPlayingStationIndex:n.nowPlayingStationIndex,nowPlayingStation:t[n.nowPlayingStationIndex],isPlaying:n.isPlaying})}))}shouldComponentUpdate(t,n){const{isPlaying:e,nowPlayingStationIndex:o}=n,i={isPlaying:e,nowPlayingStationIndex:o};return localStorage.setItem("persistentState",JSON.stringify(i)),!0}onToolbarAction(t){switch(t){case"prev":return this.changeStation(this.state.nowPlayingStationIndex-1);case"next":return this.changeStation(this.state.nowPlayingStationIndex+1);case"play":return this.play(),this.setState({isPlaying:!0});case"pause":return this.pause(),this.setState({isPlaying:!1})}}play(t){return H(this,void 0,void 0,(function*(){t||(t=this.state.nowPlayingStation.streamUrl),this.audio.src=t;try{yield this.audio.play()}catch(t){this.pause()}}))}pause(){this.audio.pause()}changeStation(t){this.isValidStationIndex(t)&&(this.play(this.state.stations[t].streamUrl),this.setState(n=>({nowPlayingStationIndex:t,nowPlayingStation:n.stations[t],isPlaying:!0})))}isValidStationIndex(t){return t>=0&&t<this.state.stations.length}render(t,n){return d("div",{class:"app"},d(z,{station:n.nowPlayingStation}),d(B,{isPlaying:n.isPlaying,hasPrev:n.nowPlayingStationIndex>0,hasNext:n.nowPlayingStationIndex<n.stations.length-1,onAction:t=>this.onToolbarAction(t)}),d(W,{stations:n.stations,nowPlayingStationIndex:n.nowPlayingStationIndex,onStationChange:t=>this.changeStation(t)}))}}F([(R=class{constructor(){this.stations=null}loadStations(){return j(this,void 0,void 0,(function*(){return this.stations=yield(yield fetch("./assets/data/stations.json")).json(),this.stations}))}getStations(){return this.stations}},(t,n)=>{L.has(R)||L.set(R,new R),t[n]=L.get(R)})],G.prototype,"stationsService",void 0),D(d(G,null),document.body)},function(t,n){}]);